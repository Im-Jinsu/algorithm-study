# 프로그래머스 스택/큐 문제 
- 다리를 지나는 트럭
    - https://programmers.co.kr/learn/courses/30/lessons/42583

## 다리를 지나는 트럭
### 내가 고안한 방법
![img load fail](./imgs/queue1.JPG) <br> 
 truck_weights를 차례대로 이행시키 위해서는 배열의 반복문을 사용해도 되지만 **인덱스 변경의 번거로움**, **건너지 않은 트럭개수 확인**을 위해 Queue를 사용했다. 변수에 대한 설명과 구현 순서는 아래와 같다.
#### 변수 설명 
 - waiting_truck: 건너기전 큐
 - crossing_truck: 건너는중 큐
 - sec: 시간 확인을 위한 초
 - all_weight: 건너는중인 트럭들의 무게 총합
#### 구현 순서
 1. 건너기전/건너는중 큐 생성하고 넘어온 배열요소를 건너기전 큐에 모두 삽입
 2. while() 반복문 수행 - 건너기전 큐에 요소가 존재하거나 건너는중 큐에 요소가 존재하면 수행한다.
    1. 수행 시작과 동시에 sec가 카운트되고 반복문 각 수행마다 1초씩 늘어난다. 
    2. 건너기전큐 요소 존재/ 다리무게>= 건너는중인 트럭 총합+ 건너려는 트럭/ 다리길이>건너는중인 트럭개수 이 3가지 조건을 만족하면 건너기전큐에서 요소를 꺼내 건너는중큐에 넣는다.
    3. 트럭이 다리를 완전히 지나가려면 다리길이 만큼의 시간이 걸린다. 따라서 sec이 bridge_length만큼 흐를 때마다 건너는중 큐에서 요소 하나를 뺀다.


```java
import java.util.*;
class Solution {
    public int solution(int bridge_length, int weight, int[] truck_weights) {
        int sec=0;
        Queue<Integer> waiting_truck = new LinkedList();
        Queue<Integer> crossing_truck = new LinkedList();
        for(int t: truck_weights)   waiting_truck.add(t);
        
        while(!waiting_truck.isEmpty() || !crossing_truck.isEmpty() ){
        	int all_weight = 0;
        	sec++;
            //건너는중인 트럭 무게총합
            for(Iterator<Integer> iter = crossing_truck.iterator();iter.hasNext(); )
            	all_weight += iter.next();
            //조건 만족시 건너기전큐 -> 건너는중 큐
            if((crossing_truck.isEmpty()) &&(weight>=all_weight+waiting_truck.peek()) && (bridge_length>crossing_truck.size()) ){
            	int e = waiting_truck.poll();
                crossing_truck.add(e);
            }
            //트럭하나 건너는데 다리 길이만큼 걸림
            if(sec%bridge_length==0)
                crossing_truck.poll(); 
        }
        return sec;
    }
}
```

해당 코드는 첫번째 입출력 solution(2,10,{7,4,5,6})에만 원하는 결과를 얻었다. 어떤 부분에서 잘못 되었는지 찾아야 했다.

